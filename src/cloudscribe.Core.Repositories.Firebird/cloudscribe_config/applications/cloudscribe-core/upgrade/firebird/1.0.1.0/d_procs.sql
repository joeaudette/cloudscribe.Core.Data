SET TERM ^ ;ALTER PROCEDURE MP_SITES_INSERT (    SITEGUID Char(36),    SITENAME Varchar(255),    SKIN Varchar(100),    ALLOWNEWREGISTRATION Smallint,    USESECUREREGISTRATION Smallint,    ISSERVERADMINSITE Smallint,    USELDAPAUTH Smallint,    AUTOCREATELDAPUSERONFIRSTLOGIN Smallint,    LDAPSERVER Varchar(255),    LDAPPORT Integer,    LDAPDOMAIN Varchar(255),    LDAPROOTDN Varchar(255),    LDAPUSERDNKEY Varchar(10),    REALLYDELETEUSERS Smallint,    USEEMAILFORLOGIN Smallint,    REQUIRESQUESTIONANDANSWER Smallint,    MAXINVALIDPASSWORDATTEMPTS Integer,    MINREQUIREDPASSWORDLENGTH Integer,    DEFAULTEMAILFROMADDRESS Varchar(100),    RECAPTCHAPRIVATEKEY Varchar(255),    RECAPTCHAPUBLICKEY Varchar(255),    DISABLEDBAUTH smallint,	AllowDbFallbackWithLdap smallint,	EmailLdapDbFallback smallint,	AllowPersistentLogin smallint,	CaptchaOnLogin smallint,	CaptchaOnRegistration smallint,	SiteIsClosed smallint,	SiteIsClosedMessage Blob sub_type 1,	PrivacyPolicy Blob sub_type 1,	TimeZoneId varchar(50),	GoogleAnalyticsProfileId varchar(25),	CompanyName varchar(255),	CompanyStreetAddress varchar(250),	CompanyStreetAddress2 varchar(250),	CompanyRegion varchar(200),	CompanyLocality varchar(200),	CompanyCountry varchar(10),	CompanyPostalCode varchar(20),	CompanyPublicEmail varchar(100),	CompanyPhone varchar(20),	CompanyFax varchar(20),	FacebookAppId varchar(100),	FacebookAppSecret varchar(100),	GoogleClientId varchar(100),	GoogleClientSecret varchar(100),	TwitterConsumerKey varchar(100),	TwitterConsumerSecret varchar(100),	MicrosoftClientId varchar(100),	MicrosoftClientSecret varchar(100),	PreferredHostName varchar(250),	SiteFolderName varchar(50),	AddThisDotComUsername varchar(50),	LoginInfoTop Blob sub_type 1,	LoginInfoBottom Blob sub_type 1,	RegistrationAgreement Blob sub_type 1,	RegistrationPreamble Blob sub_type 1,	SMTPServer varchar(200),	SMTPPort integer,	SMTPUser varchar(500),	SMTPPassword varchar(500),	SMTPPreferredEncoding varchar(20),	SMTPRequiresAuth smallint,	SMTPUseSsl smallint,	RequireApprovalBeforeLogin smallint,	IsDataProtected smallint,	CreatedUtc Timestamp,	RequireConfirmedPhone smallint,	DefaultEmailFromAlias varchar(100),	AccountApprovalEmailCsv Blob sub_type 1,	DkimPublicKey Blob sub_type 1,	DkimPrivateKey Blob sub_type 1,	DkimDomain varchar(255),	DkimSelector varchar(128),	SignEmailWithDkim smallint,	OidConnectAppId varchar(255),	OidConnectAppSecret Blob sub_type 1,	SmsClientId varchar(255),	SmsSecureToken Blob sub_type 1,	SmsFrom varchar(100)		)RETURNS (    SITEID Integer )ASBEGIN SITEID = NEXT VALUE FOR mp_Sites_seq;INSERT INTO MP_SITES(				                SITEID,                SITEGUID,                SITENAME,                SKIN,                 ALLOWNEWREGISTRATION,                USESECUREREGISTRATION,                 ISSERVERADMINSITE,                USELDAPAUTH,                AUTOCREATELDAPUSERONFIRSTLOGIN,                LDAPSERVER,                LDAPPORT,                LDAPDOMAIN,                LDAPROOTDN,                LDAPUSERDNKEY,                REALLYDELETEUSERS,                USEEMAILFORLOGIN,                REQUIRESQUESTIONANDANSWER,                MAXINVALIDPASSWORDATTEMPTS,                             MINREQUIREDPASSWORDLENGTH,                             DEFAULTEMAILFROMADDRESS,                             RECAPTCHAPRIVATEKEY,                RECAPTCHAPUBLICKEY,             				DisableDbAuth,				AllowDbFallbackWithLdap,				EmailLdapDbFallback,				AllowPersistentLogin,				CaptchaOnLogin,				CaptchaOnRegistration,				SiteIsClosed,				SiteIsClosedMessage,				PrivacyPolicy,				TimeZoneId,				GoogleAnalyticsProfileId,				CompanyName,				CompanyStreetAddress,				CompanyStreetAddress2,				CompanyRegion,				CompanyLocality,				CompanyCountry,				CompanyPostalCode,				CompanyPublicEmail,				CompanyPhone,				CompanyFax,				FacebookAppId,				FacebookAppSecret,				GoogleClientId,				GoogleClientSecret,				TwitterConsumerKey,				TwitterConsumerSecret,				MicrosoftClientId,				MicrosoftClientSecret,				PreferredHostName,				SiteFolderName,				AddThisDotComUsername,				LoginInfoTop,				LoginInfoBottom,				RegistrationAgreement,				RegistrationPreamble,				SMTPServer,				SMTPPort,				SMTPUser,				SMTPPassword,				SMTPPreferredEncoding,				SMTPRequiresAuth,				SMTPUseSsl,				RequireApprovalBeforeLogin,				IsDataProtected,				CreatedUtc,				RequireConfirmedPhone,				DefaultEmailFromAlias,				AccountApprovalEmailCsv,				DkimPublicKey,				DkimPrivateKey,				DkimDomain,				DkimSelector,				SignEmailWithDkim,				OidConnectAppId,				OidConnectAppSecret,				SmsClientId,				SmsSecureToken,				SmsFrom) VALUES (				               :SITEID,               :SITEGUID,               :SITENAME,               :SKIN,                             :ALLOWNEWREGISTRATION,               :USESECUREREGISTRATION,                         :ISSERVERADMINSITE,               :USELDAPAUTH,               :AUTOCREATELDAPUSERONFIRSTLOGIN,               :LDAPSERVER,               :LDAPPORT,               :LDAPDOMAIN,               :LDAPROOTDN,               :LDAPUSERDNKEY,               :REALLYDELETEUSERS,               :USEEMAILFORLOGIN,                            :REQUIRESQUESTIONANDANSWER,               :MAXINVALIDPASSWORDATTEMPTS,                         :MINREQUIREDPASSWORDLENGTH,                         :DEFAULTEMAILFROMADDRESS,                             :RECAPTCHAPRIVATEKEY,               :RECAPTCHAPUBLICKEY,               			   :DisableDbAuth,			   :AllowDbFallbackWithLdap,			   :EmailLdapDbFallback,			   :AllowPersistentLogin,			   :CaptchaOnLogin,			   :CaptchaOnRegistration,			   :SiteIsClosed,			   :SiteIsClosedMessage,			   :PrivacyPolicy,			   :TimeZoneId,			   :GoogleAnalyticsProfileId,			   :CompanyName,			   :CompanyStreetAddress,			   :CompanyStreetAddress2,			   :CompanyRegion,			   :CompanyLocality,			   :CompanyCountry,			   :CompanyPostalCode,			   :CompanyPublicEmail,			   :CompanyPhone,			   :CompanyFax,			   :FacebookAppId,			   :FacebookAppSecret,			   :GoogleClientId,			   :GoogleClientSecret,			   :TwitterConsumerKey,			   :TwitterConsumerSecret,			   :MicrosoftClientId,			   :MicrosoftClientSecret,			   :PreferredHostName,			   :SiteFolderName,			   :AddThisDotComUsername,			   :LoginInfoTop,			   :LoginInfoBottom,			   :RegistrationAgreement,			   :RegistrationPreamble,			   :SMTPServer,			   :SMTPPort,			   :SMTPUser,			   :SMTPPassword,			   :SMTPPreferredEncoding,			   :SMTPRequiresAuth,			   :SMTPUseSsl,			   :RequireApprovalBeforeLogin,			   :IsDataProtected,			   :CreatedUtc,			   :RequireConfirmedPhone,			   :DefaultEmailFromAlias,			   :AccountApprovalEmailCsv,			   :DkimPublicKey,			   :DkimPrivateKey,			   :DkimDomain,			   :DkimSelector,			   :SignEmailWithDkim,			   :OidConnectAppId,			   :OidConnectAppSecret,			   :SmsClientId,			   :SmsSecureToken,			   :SmsFrom);END^SET TERM ; ^SET TERM ^ ;ALTER PROCEDURE MP_USERS_INSERT (    SITEID Integer,    NAME Varchar(100),    LOGINNAME Varchar(50),    EMAIL Varchar(100),    LOWEREDEMAIL Varchar(100),    GENDER Char(10),    ACCOUNTAPPROVED Smallint,    TRUSTED Smallint,    DISPLAYINMEMBERLIST Smallint,    WEBSITEURL Varchar(100),    COUNTRY Varchar(100),    STATE Varchar(100),    AVATARURL Varchar(255),    SIGNATURE Varchar(4000),    DATECREATED Timestamp,    USERGUID Char(36),    ISDELETED Smallint,    FAILEDPASSWORDATTEMPTCOUNT Integer,    ISLOCKEDOUT Smallint,    "COMMENT" Blob sub_type 1,    SITEGUID Char(36),    MUSTCHANGEPWD integer,    FIRSTNAME varchar(100),    LASTNAME varchar(100),    TIMEZONEID varchar(32),    DATEOFBIRTH timestamp,    EMAILCONFIRMED integer,    PASSWORDHASH blob sub_type 1,    SECURITYSTAMP blob sub_type 1,    PHONENUMBER varchar(50),    PHONENUMBERCONFIRMED integer,    TWOFACTORENABLED integer,    LOCKOUTENDDATEUTC timestamp,	AuthorBio blob sub_type 1,	NormalizedUserName varchar(50),	CanAutoLockout smallint	)RETURNS (    USERID Integer )ASBEGIN USERID = NEXT VALUE FOR mp_Users_seq;INSERT INTO 	MP_USERS(				                USERID,                SITEID,                NAME,                LOGINNAME,                EMAIL,                LOWEREDEMAIL,                GENDER,                ACCOUNTAPPROVED,                TRUSTED,                DISPLAYINMEMBERLIST,                WEBSITEURL,                COUNTRY,                STATE,                AVATARURL,                SIGNATURE,                DATECREATED,                USERGUID,                ISDELETED,                FAILEDPASSWORDATTEMPTCOUNT,                ISLOCKEDOUT,                COMMENT,                SITEGUID,				MustChangePwd,				FIRSTNAME,				LASTNAME,				TIMEZONEID,				RolesChanged,				DateOfBirth,				EmailConfirmed,				PasswordHash,				SecurityStamp,				PhoneNumber,				PhoneNumberConfirmed,				TwoFactorEnabled,				LockoutEndDateUtc,				AuthorBio,				NewEmailApproved,				NormalizedUserName,				CanAutoLockout) VALUES (				               :USERID,               :SITEID,               :NAME,               :LOGINNAME,               :EMAIL,               :LOWEREDEMAIL,               :GENDER,               :ACCOUNTAPPROVED,               :REGISTERCONFIRMGUID,               :TRUSTED,               :DISPLAYINMEMBERLIST,               :WEBSITEURL,               :COUNTRY,               :STATE,               :AVATARURL,               :SIGNATURE,               :DATECREATED,               :USERGUID,               :ISDELETED,               :FAILEDPASSWORDATTEMPTCOUNT,               :FAILEDPWDANSWERATTEMPTCOUNT,               :ISLOCKEDOUT,               :COMMENT,               :SITEGUID,				:MustChangePwd,				:FIRSTNAME,				:LASTNAME,				:EMAILCHANGEGUID,				:TIMEZONEID,				'00000000-0000-0000-0000-000000000000',				0,				:DateOfBirth,				:EmailConfirmed,				:PasswordHash,				:SecurityStamp,				:PhoneNumber,				:PhoneNumberConfirmed,				:TwoFactorEnabled,				:LockoutEndDateUtc,				:AuthorBio,				0,				:NormalizedUserName,				:CanAutoLockout								);END^SET TERM ; ^